<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Planner - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–∏—Ç–∞–Ω–∏—è</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="logo">üçΩÔ∏è Meal Planner</h1>
            <nav class="nav-tabs">
                <button class="tab-btn active" data-tab="menu">üìã –ú–µ–Ω—é –Ω–∞ –º–µ—Å—è—Ü</button>
                <button class="tab-btn" data-tab="shopping">üõí –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫</button>
                <button class="tab-btn" data-tab="recipes">üìö –ú–æ–∏ —Ä–µ—Ü–µ–ø—Ç—ã</button>
            </nav>
        </header>

        <main class="content">
            <!-- –í–∫–ª–∞–¥–∫–∞ –ú–µ–Ω—é -->
            <section id="menu-tab" class="tab-content active">
                <div class="controls">
                    <button class="btn btn-primary" id="random-fill">üé≤ –°–ª—É—á–∞–π–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ</button>
                    <button class="btn btn-secondary" id="reset-menu">üóëÔ∏è –°–±—Ä–æ—Å –º–µ–Ω—é</button>
                    <button class="btn btn-success" id="save-menu">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–µ–Ω—é</button>
                    <button class="btn btn-info" id="load-menu">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–Ω—é</button>
                    <input type="file" id="file-input" accept=".json" hidden>
                </div>

                <div class="days-grid" id="days-grid">
                    <!-- 31 –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–Ω—è –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ JS -->
                </div>
            </section>

            <!-- –í–∫–ª–∞–¥–∫–∞ –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫ -->
            <section id="shopping-tab" class="tab-content">
                <div class="shopping-controls">
                    <button class="btn btn-primary" id="export-shopping">üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤ TXT</button>
                    <button class="btn btn-secondary" id="clear-shopping">üßπ –û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
                </div>

                <div class="shopping-categories" id="shopping-categories">
                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </section>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ú–æ–∏ —Ä–µ—Ü–µ–ø—Ç—ã -->
            <section id="recipes-tab" class="tab-content">
                <div class="custom-recipe-form">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π —Ä–µ—Ü–µ–ø—Ç</h2>
                    <form id="recipe-form">
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞:</label>
                            <input type="text" id="recipe-name" required>
                        </div>
                        <div class="form-group">
                            <label>–ö—É—Ö–Ω—è:</label>
                            <select id="recipe-cuisine" required>
                                <option value="russian">–†—É—Å—Å–∫–∞—è</option>
                                <option value="tatar">–¢–∞—Ç–∞—Ä—Å–∫–∞—è</option>
                                <option value="french">–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è</option>
                                <option value="italian">–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è</option>
                                <option value="spanish">–ò—Å–ø–∞–Ω—Å–∫–∞—è</option>
                                <option value="japanese">–Ø–ø–æ–Ω—Å–∫–∞—è</option>
                                <option value="thai">–¢–∞–π—Å–∫–∞—è</option>
                                <option value="vietnamese">–í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è</option>
                                <option value="georgian">–ì—Ä—É–∑–∏–Ω—Å–∫–∞—è</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                            <select id="recipe-category" required>
                                <option value="breakfast">–ó–∞–≤—Ç—Ä–∞–∫</option>
                                <option value="soup">–ü–µ—Ä–≤–æ–µ –±–ª—é–¥–æ</option>
                                <option value="main">–í—Ç–æ—Ä–æ–µ –±–ª—é–¥–æ</option>
                                <option value="salad">–°–∞–ª–∞—Ç</option>
                                <option value="garnish">–ì–∞—Ä–Ω–∏—Ä</option>
                                <option value="dessert">–î–µ—Å–µ—Ä—Ç</option>
                                <option value="drink">–ù–∞–ø–∏—Ç–æ–∫</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (–∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</label>
                            <textarea id="recipe-ingredients" rows="5" placeholder="–ü—Ä–∏–º–µ—Ä:&#10;–ú—É–∫–∞ - 200–≥&#10;–Ø–π—Ü–∞ - 2 —à—Ç.&#10;–°–∞—Ö–∞—Ä - 100–≥" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç:</label>
                            <textarea id="recipe-steps" rows="8" placeholder="–ü—Ä–∏–º–µ—Ä:&#10;1. –°–º–µ—à–∞—Ç—å –≤—Å–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã&#10;2. –í—ã–ø–µ–∫–∞—Ç—å 30 –º–∏–Ω—É—Ç" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>–°–æ–≤–µ—Ç—ã —à–µ—Ñ-–ø–æ–≤–∞—Ä–∞:</label>
                            <textarea id="recipe-tips" rows="3" placeholder="–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—á—Ç—É</button>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ—Ü–µ–ø—Ç–∞ -->
    <div class="modal" id="recipe-modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="modal-title"></h2>
            <div class="modal-section">
                <h3>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</h3>
                <table id="modal-ingredients">
                    <thead>
                        <tr>
                            <th>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç</th>
                            <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                        </tr>
                    </thead>
                    <tbody id="ingredients-body"></tbody>
                </table>
            </div>
            <div class="modal-section">
                <h3>–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç:</h3>
                <ol id="modal-steps"></ol>
            </div>
            <div class="modal-section" id="modal-tips-section">
                <h3>–°–æ–≤–µ—Ç—ã —à–µ—Ñ-–ø–æ–≤–∞—Ä–∞:</h3>
                <p id="modal-tips"></p>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –±–ª—é–¥–∞ -->
    <div class="modal" id="meal-selector-modal">
        <div class="modal-content selector-modal">
            <span class="close-btn selector-close">&times;</span>
            <div class="selector-steps">
                <div id="step-category" class="selector-step active">
                    <h2>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–µ–º –ø–∏—â–∏</h2>
                    <div class="categories-grid" id="categories-grid"></div>
                </div>
                
                <div id="step-subcategory" class="selector-step">
                    <button class="btn btn-back" id="back-to-category">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
                    <h2 id="subcategory-title">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é</h2>
                    <div class="categories-grid" id="subcategories-grid"></div>
                </div>
                
                <div id="step-dish" class="selector-step">
                    <button class="btn btn-back" id="back-to-subcategory">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2 id="dish-title">–í—ã–±–µ—Ä–∏—Ç–µ –±–ª—é–¥–æ</h2>
                    <div class="dishes-list" id="dishes-list"></div>
                </div>
                
                <div id="step-quantity" class="selector-step">
                    <button class="btn btn-back" id="back-to-dish">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π</h2>
                    <div class="quantity-selector">
                        <button class="btn btn-secondary" id="decrease-qty">-</button>
                        <input type="number" id="portion-quantity" min="1" value="1" class="quantity-input">
                        <button class="btn btn-secondary" id="increase-qty">+</button>
                    </div>
                    <div class="dish-preview" id="dish-preview"></div>
                    <button class="btn btn-primary btn-confirm" id="confirm-selection">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–±–æ—Ä</button>
                </div>

                <div id="step-quantity" class="selector-step">
    <button class="btn btn-back" id="back-to-dish">‚Üê –ù–∞–∑–∞–¥</button>
    <h2>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π</h2>
    <div class="quantity-selector">
        <button class="btn btn-secondary" id="decrease-qty">-</button>
        <input type="number" id="portion-quantity" min="1" value="1" class="quantity-input">
        <button class="btn btn-secondary" id="increase-qty">+</button>
    </div>
    <div class="dish-preview" id="dish-preview"></div>
    <div style="display: flex; gap: 10px; margin-top: 15px;">
        <button class="btn btn-primary btn-confirm" id="confirm-selection" style="flex: 1;">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–±–æ—Ä</button>
        ${currentSelection.day && currentSelection.mealType ? '<button class="btn btn-secondary" id="clear-selection" style="flex: 1;">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—ã–±–æ—Ä</button>' : ''}
    </div>
</div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification-container" id="notification-container"></div>

    <script src="recipes.js"></script>
    <script src="scripts.js"></script>
</body>
</html>